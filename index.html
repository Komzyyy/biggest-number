<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í –∫–æ–≥–æ –±—ñ–ª—å—à–µ —á–∏—Å–ª–æ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            color: #333;
        }

        .container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            max-width: 800px;
            width: 100%;
            text-align: center;
        }

        h1 {
            color: #2c3e50;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .players {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            gap: 20px;
        }

        .player {
            flex: 1;
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            border-radius: 15px;
            padding: 20px;
            color: white;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }

        .player.computer {
            background: linear-gradient(135deg, #fd79a8, #e84393);
        }

        .player-name {
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .player-score {
            font-size: 3em;
            font-weight: bold;
            color: #f1c40f;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .numbers {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            gap: 20px;
        }

        .number {
            flex: 1;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 30px;
            font-size: 4em;
            font-weight: bold;
            color: #2c3e50;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            border: 3px solid transparent;
            transition: all 0.3s ease;
        }

        .number.winner {
            border-color: #27ae60;
            background: #d5f5e3;
            transform: scale(1.05);
        }

        .controls {
            margin-bottom: 30px;
        }

        #generateBtn {
            background: linear-gradient(135deg, #00b894, #00a085);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2em;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
            font-weight: bold;
        }

        #generateBtn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(0, 0, 0, 0.3);
        }

        #generateBtn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .history {
            background: rgba(52, 152, 219, 0.1);
            border-radius: 15px;
            padding: 20px;
            max-height: 200px;
            overflow-y: auto;
        }

        .history h3 {
            color: #2c3e50;
            margin-bottom: 15px;
        }

        .history-item {
            background: white;
            margin: 8px 0;
            padding: 10px 15px;
            border-radius: 10px;
            text-align: left;
            border-left: 4px solid #3498db;
        }

        .history-item.win {
            border-left-color: #27ae60;
            background: #d5f5e3;
        }

        .history-item.lose {
            border-left-color: #e74c3c;
            background: #fadbd8;
        }

        .history-item.draw {
            border-left-color: #f39c12;
            background: #fef9e7;
        }

        .winner-message {
            font-size: 2em;
            font-weight: bold;
            color: #27ae60;
            margin: 20px 0;
            padding: 20px;
            background: #d5f5e3;
            border-radius: 15px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @media (max-width: 768px) {
            .players, .numbers {
                flex-direction: column;
            }
            
            .player, .number {
                margin-bottom: 15px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            .number {
                font-size: 3em;
                padding: 20px;
            }
            
            .player-score {
                font-size: 2.5em;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 1.8em;
            }
            
            .number {
                font-size: 2.5em;
                padding: 15px;
            }
            
            #generateBtn {
                padding: 12px 30px;
                font-size: 1.1em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéÆ –í –∫–æ–≥–æ –±—ñ–ª—å—à–µ —á–∏—Å–ª–æ? üéÆ</h1>
        
        <div class="players">
            <div class="player">
                <div class="player-name" id="userName"></div>
                <div class="player-score" id="userScore">0</div>
            </div>
            <div class="player computer">
                <div class="player-name">–ö–æ–º–ø'—é—Ç–µ—Ä</div>
                <div class="player-score" id="computerScore">0</div>
            </div>
        </div>
        
        <div class="numbers">
            <div class="number" id="userNumber">?</div>
            <div class="number" id="computerNumber">?</div>
        </div>
        
        <div class="controls">
            <button id="generateBtn">–ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ —á–∏—Å–ª–∞!</button>
        </div>
        
        <div class="history">
            <h3>–Ü—Å—Ç–æ—Ä—ñ—è —Ä–∞—É–Ω–¥—ñ–≤</h3>
            <div id="historyList"></div>
        </div>
    </div>
    
    <script>
        let userName = '';
        let userScore = 0;
        let computerScore = 0;
        let round = 0;
        const maxScore = 3;

 function getUserName() {
    userName = prompt('–í–≤–µ–¥—ñ—Ç—å –≤–∞—à–µ —ñ–º º—è:');
    if (userName === null || userName.trim() === '') {
        showCancelMessage();
        return;
    }
    userName = userName.trim();
    document.getElementById('userName').textContent = userName;
}

function showCancelMessage() {
    document.body.innerHTML = `
        <div style="
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            color: white;
            text-align: center;
            padding: 20px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        ">
            <h1 style="font-size: 2.5em; margin-bottom: 20px;">üéÆ –ì—Ä–∞ —Å–∫–∞—Å–æ–≤–∞–Ω–∞ üéÆ</h1>
            <p style="font-size: 1.3em; margin-bottom: 30px;">–ë—É–¥—å –ª–∞—Å–∫–∞, –≤–≤–µ–¥—ñ—Ç—å —ñ–º'—è –¥–ª—è –ø–æ—á–∞—Ç–∫—É –≥—Ä–∏</p>
            <button onclick="location.reload()" style="
                background: linear-gradient(135deg, #3498db, #2980b9);
                color: white;
                border: none;
                padding: 15px 40px;
                font-size: 1.2em;
                border-radius: 25px;
                cursor: pointer;
                font-weight: bold;
                box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            ">–°–ø—Ä–æ–±—É–≤–∞—Ç–∏ –∑–Ω–æ–≤—É</button>
        </div>
    `;

    document.getElementById('userName').textContent = userName;
}

        function generateRandomNumber() {
            return Math.floor(Math.random() * 100) + 1;
        }

        function updateNumbers(userNum, computerNum) {
            const userNumberElem = document.getElementById('userNumber');
            const computerNumberElem = document.getElementById('computerNumber');
            
            userNumberElem.textContent = userNum;
            computerNumberElem.textContent = computerNum;

            userNumberElem.classList.remove('winner');
            computerNumberElem.classList.remove('winner');

            if (userNum > computerNum) {
                userNumberElem.classList.add('winner');
            } else if (computerNum > userNum) {
                computerNumberElem.classList.add('winner');
            }
        }

        function updateScores() {
            document.getElementById('userScore').textContent = userScore;
            document.getElementById('computerScore').textContent = computerScore;
        }

        function addToHistory(userNum, computerNum, result) {
            const historyList = document.getElementById('historyList');
            const historyItem = document.createElement('div');
            historyItem.className = `history-item fade-in ${result}`;
            
            let resultText = '';
            let emoji = '';
            
            switch(result) {
                case 'win':
                    resultText = '–ü–µ—Ä–µ–º–æ–≥–∞!';
                    emoji = 'üéâ';
                    break;
                case 'lose':
                    resultText = '–ü–æ—Ä–∞–∑–∫–∞';
                    emoji = 'üòî';
                    break;
                case 'draw':
                    resultText = '–ù—ñ—á–∏—è';
                    emoji = 'ü§ù';
                    break;
            }
            
            historyItem.innerHTML = `
                <strong>–†–∞—É–Ω–¥ ${round}:</strong> ${userName}: ${userNum} vs –ö–æ–º–ø'—é—Ç–µ—Ä: ${computerNum} 
                <strong>${resultText} ${emoji}</strong>
            `;
            
            historyList.appendChild(historyItem);
            historyList.scrollTop = historyList.scrollHeight;
        }

        function checkWinner() {
            if (userScore >= maxScore || computerScore >= maxScore) {
                const winner = userScore >= maxScore ? userName : '–ö–æ–º–ø\'—é—Ç–µ—Ä';
                const winnerMessage = document.createElement('div');
                winnerMessage.className = 'winner-message fade-in';
                winnerMessage.textContent = `üéä ${winner} –ø–µ—Ä–µ–º—ñ–≥(–ª–∞) —É –≥—Ä—ñ! üéä`;
                
                document.querySelector('.controls').appendChild(winnerMessage);
                document.getElementById('generateBtn').disabled = true;

                const newGameBtn = document.createElement('button');
                newGameBtn.textContent = '–ù–æ–≤–∞ –≥—Ä–∞';
                newGameBtn.style.cssText = `
                    background: linear-gradient(135deg, #e74c3c, #c0392b);
                    color: white;
                    border: none;
                    padding: 15px 40px;
                    font-size: 1.2em;
                    border-radius: 50px;
                    cursor: pointer;
                    margin-top: 15px;
                    font-weight: bold;
                `;
                newGameBtn.onclick = resetGame;
                
                document.querySelector('.controls').appendChild(newGameBtn);
                return true;
            }
            return false;
        }

        function resetGame() {
            userScore = 0;
            computerScore = 0;
            round = 0;
            document.getElementById('historyList').innerHTML = '';
            document.getElementById('generateBtn').disabled = false;
            document.querySelector('.winner-message')?.remove();
            document.querySelector('button[onclick="resetGame"]')?.remove();
            updateScores();
            updateNumbers('?', '?');
        }

        document.getElementById('generateBtn').addEventListener('click', function() {
            round++;
            const userNumber = generateRandomNumber();
            const computerNumber = generateRandomNumber();
            
            updateNumbers(userNumber, computerNumber);
            
            let result = '';
            if (userNumber > computerNumber) {
                userScore++;
                result = 'win';
            } else if (computerNumber > userNumber) {
                computerScore++;
                result = 'lose';
            } else {
                result = 'draw';
            }
            
            updateScores();
            addToHistory(userNumber, computerNumber, result);
            checkWinner();
        });

        window.addEventListener('load', function() {
    getUserName();
    
    if (userName) {
        updateNumbers('?', '?');
    }
});

    </script>
</body>
</html>